<nav id="sidebar"  *ngIf="proyectos && identity">
    <div id="sidebar-body" class="sidebar-body">
      
      <ul class="list-unstyled components">
          <p class="font-color-red" *ngIf="proyectos && proyectos.length > 0">PROYECTOS 
            <button mat-icon-button (click)="refresh()">
              <mat-icon>sync</mat-icon>
            </button> 
          </p>
          <li *ngFor="let k of proyectos | keys;" >
              <a href="#pro{{proyectos[k].id}}" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">{{proyectos[k].project_name}}
                <h6><span class="badge badge-light"> {{ proyectos[k].service.length }}</span></h6>       
              </a>
              <ul class="collapse list-unstyled" id="pro{{proyectos[k].id}}" >

                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngIf="_userService.isRole(6)">
                      <a class="nav-link" routerLinkActive="active" [routerLink]="['/calendar', proyectos[k].id]" title="Añade, quita, cambia de nombre, mueve o busca eventos."> 
                        <i class="material-icons md-14-color" *ngIf="proyectos[k].id === projectselected && path === 'calendar'">date_range</i> 
                        <i class="material-icons md-14" *ngIf="proyectos[k].id != projectselected || path != 'calendar' ">calendar_today</i> 
                        Calendario
                      </a>
                  </li>
                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngIf="_userService.isRole(7)">
                      <a class="nav-link" routerLinkActive="active" [routerLink]="['/project', proyectos[k].id]" title="Añade, quita, cambia de nombre, mueve o busca una unidad organizativa"> 
                        <!--<i class="material-icons md-14-color" *ngIf="proyectos[k].id === projectselected && path === 'project'">folder</i>-->
                        <!--<i class="material-icons md-14" *ngIf="proyectos[k].id != projectselected || path != 'project' ">folder_open</i> -->
                        
                        <img draggable="false" class="Md9X2e" *ngIf="proyectos[k].id === projectselected && path === 'project'" src="../../../../assets/icons/icon-project-96x96.png" title="Añade, quita, cambia de nombre, mueve o busca una unidad organizativa" alt="Unidades organizativas">
                        <img draggable="false" class="Md9X2e" *ngIf="proyectos[k].id != projectselected || path != 'project'" src="../../../../assets/icons/icon-project-96x96.png" title="Añade, quita, cambia de nombre, mueve o busca una unidad organizativa" alt="Unidades organizativas">
                        Proyectos
                      </a>
                  </li>
                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngIf="_userService.isRole(7)">
                      <a class="nav-link" routerLinkActive="active" [routerLink]="['/users', proyectos[k].id]" title="Añade, quita, cambia de nombre, mueve o busca usuarios."> 
                        <i class="material-icons md-14-color" *ngIf="proyectos[k].id === projectselected && path === 'users'">person</i>
                        <i class="material-icons md-14" *ngIf="proyectos[k].id != projectselected || path != 'users' ">person_outline</i>                        
                        Usuarios
                      </a>
                  </li>
                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngIf="_userService.isRole(7)">
                    <a class="nav-link" routerLinkActive="active" [routerLink]="['/team', proyectos[k].id]" title="Añade, quita, cambia de nombre, mueve o busca equipos de trabajo."> 
                      <i class="material-icons md-14-color" *ngIf="proyectos[k].id === projectselected && path === 'team'">people</i>
                      <i class="material-icons md-14" *ngIf="proyectos[k].id != projectselected || path != 'team' ">people_outline</i>     
                      Equipos
                    </a>
                  </li>

                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngIf="_userService.isRole(7)">
                    <a class="nav-link " routerLinkActive="active" [routerLink]="['/monitor', proyectos[k].id]" title="Visualiza el progreso de las incidencias."> 
                      <i class="css-1r0i4xt" *ngIf="proyectos[k].id === projectselected && path === 'monitor'">
                        <svg stroke="currentColor" fill="currentColor"  viewBox="0 0 512 512" height="24" width="24" 
                        xmlns="http://www.w3.org/2000/svg"><path d="M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"></path></svg>
                      </i>
                      <i class="css-1r0i4xt" *ngIf="proyectos[k].id != projectselected || path != 'monitor' ">
                        <svg stroke="currentColor" fill="currentColor" viewBox="0 0 512 512" height="24" width="24" 
                        xmlns="http://www.w3.org/2000/svg"><path d="M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"></path></svg>
                      </i>     
                      Monitor
                    </a>
                  </li>


                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngIf="_userService.isRole(7)">
                    <a class="nav-link" routerLinkActive="active" [routerLink]="['/notificationorder', proyectos[k].id]" title="Visualiza todas las notificaciones de las incidencias."> 
                      <i class="material-icons md-14-color" *ngIf="proyectos[k].id === projectselected && path === 'notificationorder'">
                        <svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6.485 17.669a2 2 0 0 0 2.829 0l-2.829-2.83a2 2 0 0 0 0 2.83zm4.897-12.191l-.725.725c-.782.782-2.21 1.813-3.206 2.311l-3.017 1.509c-.495.248-.584.774-.187 1.171l8.556 8.556c.398.396.922.313 1.171-.188l1.51-3.016c.494-.988 1.526-2.42 2.311-3.206l.725-.726a5.048 5.048 0 0 0 .64-6.356 1.01 1.01 0 1 0-1.354-1.494c-.023.025-.046.049-.066.075a5.043 5.043 0 0 0-2.788-.84 5.036 5.036 0 0 0-3.57 1.478z" fill="currentColor" fill-rule="evenodd"></path></svg>                        
                      </i>
                      <i class="material-icons md-14" *ngIf="proyectos[k].id != projectselected || path != 'notificationorder' ">
                        <svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M6.485 17.669a2 2 0 0 0 2.829 0l-2.829-2.83a2 2 0 0 0 0 2.83zm4.897-12.191l-.725.725c-.782.782-2.21 1.813-3.206 2.311l-3.017 1.509c-.495.248-.584.774-.187 1.171l8.556 8.556c.398.396.922.313 1.171-.188l1.51-3.016c.494-.988 1.526-2.42 2.311-3.206l.725-.726a5.048 5.048 0 0 0 .64-6.356 1.01 1.01 0 1 0-1.354-1.494c-.023.025-.046.049-.066.075a5.043 5.043 0 0 0-2.788-.84 5.036 5.036 0 0 0-3.57 1.478z" fill="currentColor" fill-rule="evenodd"></path></svg>                        
                      </i>     
                      Notificaciones
                    </a>
                  </li>


                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngIf="_userService.isRole(7)">
                    <a class="nav-link" routerLinkActive="active" [routerLink]="['/projectorder', proyectos[k].id]" title="Visualiza todas las incidencias de {{proyectos[k].project_name}}">
                      Todas las incidencias
                    </a>
                  </li>

                  <li routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" *ngFor="let service of proyectos[k].service; let i = index" (click)="navigate(service.id)">
                      <a class="nav-link" routerLinkActive="active" [routerLink]="['/service', service.id]" title="Visualiza las incidencias de {{service.service_name}}.">
                        <!--
                          <i class="material-icons md-14-color" *ngIf="service.id === selected && path === 'service'">launch</i> 
                          <i class="material-icons md-14" *ngIf="service.id != selected || path != 'service'">launch</i>
                        -->
                          {{service.service_name}} 
                      </a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
  
</nav>

<nav id="sidebar"  *ngIf="!proyectos && identity">
    <div id="sidebar-body" class="sidebar-body">
      
      <!-----
      <ul class="list-unstyled components">
          <p class="font-color-red pointer"  routerLinkActive="active" [routerLink]="['/support']">SOPORTE</p>
      </ul>-->
      <ul class="list-unstyled components">
          <p class="font-color-red">PROYECTOS 
            <button mat-icon-button (click)="refresh()">
              <mat-icon>sync</mat-icon>
            </button> 
          </p>
      </ul>
    </div>
  
</nav>
  


